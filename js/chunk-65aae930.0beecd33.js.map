{"version":3,"sources":["webpack:///./src/components/ball/ball.vue?9b55","webpack:///src/components/ball/ball.vue","webpack:///./src/components/ball/ball.vue?3638","webpack:///./src/components/ball/ball.vue","webpack:///./src/components/ball/ball.vue?6743","webpack:///./src/assets/navList.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","mobileNavShow","expression","ref","style","left","top","on","$event","stopPropagation","touchStart","touchMove","touchEnd","attrs","routerLink","_l","item","index","key","class","ac","link","$route","path","animation","_v","_s","title","_e","staticRenderFns","props","navList","type","Array","default","data","methods","initBall","clientWidth","width","clientHeight","height","$router","push","clearInterval","timer","startTime","Date","getTime","touch","$refs","ballDom","transition","touchstartX","ev","targetTouches","clientX","touchstartY","clientY","disX","disY","endTIme","speed","ballRun","pathX","pathY","nearFrame","setInterval","speedX","A","speedY","Math","abs","setTimeout","mounted","$nextTick","component","module","exports"],"mappings":"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","file":"js/chunk-65aae930.0beecd33.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ball_wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobileNavShow),expression:\"!mobileNavShow\"}],ref:\"ballDom\",staticClass:\"ball\",style:({\n        left:(_vm.left + \"px\"),\n        top:(_vm.top + \"px\"),\n    }),on:{\"touchstart\":function($event){$event.stopPropagation();return _vm.touchStart($event)},\"touchmove\":function($event){$event.stopPropagation();return _vm.touchMove($event)},\"touchend\":function($event){$event.stopPropagation();return _vm.touchEnd($event)}}},[_c('img',{attrs:{\"src\":require(\"../../assets/navList.png\")}})]),(_vm.mobileNavShow)?_c('ul',{ref:\"mobileNavDom\",staticClass:\"nav_mobile\"},[_c('li',{staticClass:\"close\",on:{\"click\":function($event){$event.stopPropagation();return _vm.routerLink(null)}}}),_vm._l((_vm.navList),function(item,index){return _c('li',{key:index,class:{ ac: item.link === _vm.$route.path },style:({\n          animation: (\"show 0.5s \" + (index *\n            0.1) + \"s cubic-bezier(.32,.11,.48,1.6)\"),\n          'animation-fill-mode': 'forwards'\n        }),on:{\"click\":function($event){return _vm.routerLink(item.link)}}},[_vm._v(_vm._s(item.title))])})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ball_wrapper\">\r\n    <div\r\n      ref=\"ballDom\"\r\n      :style=\"{\r\n          left:`${left}px`,\r\n          top:`${top}px`,\r\n      }\"\r\n      @touchstart.stop=\"touchStart\"\r\n      @touchmove.stop=\"touchMove\"\r\n      @touchend.stop=\"touchEnd\"\r\n      v-show=\"!mobileNavShow\"\r\n      class=\"ball\"\r\n    >\r\n      <img src=\"../../assets/navList.png\" />\r\n    </div>\r\n    <ul ref=\"mobileNavDom\" class=\"nav_mobile\" v-if=\"mobileNavShow\">\r\n      <li @click.stop=\"routerLink(null)\" class=\"close\"></li>\r\n      <li\r\n        :class=\"{ ac: item.link === $route.path }\"\r\n        :style=\"{\r\n            animation: `show 0.5s ${index *\r\n              0.1}s cubic-bezier(.32,.11,.48,1.6)`,\r\n            'animation-fill-mode': 'forwards'\r\n          }\"\r\n        v-for=\"(item, index) in navList\"\r\n        :key=\"index\"\r\n        @click=\"routerLink(item.link)\"\r\n      >{{ item.title }}</li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 小球减速度\r\nconst A = 0.5\r\nexport default {\r\n  name: 'ball',\r\n  props: {\r\n    navList: {\r\n      type: Array,\r\n      default: []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      mobileNavShow: false,\r\n      left: 0,\r\n      top: 0\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化小球位置\r\n    initBall() {\r\n      let { clientWidth, clientHeight } = this.Utils.getWinScreen();\r\n      let width = this.$refs.ballDom.offsetWidth;\r\n      let height = this.$refs.ballDom.offsetHeight;\r\n      this.left = clientWidth - width - 20;\r\n      this.top = clientHeight - height - 20;\r\n    },\r\n    // 跳转\r\n    routerLink(link) {\r\n      if (link) this.$router.push(link);\r\n      this.mobileNavShow = false;\r\n    },\r\n    // touch拖动事件\r\n    touchStart(ev) {\r\n      clearInterval(this.timer)\r\n      this.startTime = new Date().getTime();\r\n      this.touch = true;\r\n      let transition = this.Utils.prefixStyle('transition');\r\n      this.$refs.ballDom.style[transition] = 'none';\r\n      let left = this.$refs.ballDom.offsetLeft;\r\n      let top = this.$refs.ballDom.offsetTop;\r\n      this.touchstartX = ev.targetTouches[0].clientX - left;\r\n      this.touchstartY = ev.targetTouches[0].clientY - top;\r\n    },\r\n    // touch拖动事件\r\n    touchMove(ev) {\r\n      clearInterval(this.timer)\r\n      if (!this.touch) return;\r\n      let clientX = ev.targetTouches[0].clientX;\r\n      let clientY = ev.targetTouches[0].clientY;\r\n      let width = this.$refs.ballDom.offsetWidth;\r\n      let height = this.$refs.ballDom.offsetHeight;\r\n      let { clientWidth, clientHeight } = this.Utils.getWinScreen();\r\n      let disX = clientX - this.touchstartX;\r\n      let disY = clientY - this.touchstartX;\r\n      if (disX <= 0) disX = 0;\r\n      if (disY <= 0) disY = 0;\r\n      if (disX >= (clientWidth - width)) disX = clientWidth - width;\r\n      if (disY >= (clientHeight - height)) disY = clientHeight - height;\r\n      this.left = disX;\r\n      this.top = disY;\r\n    },\r\n    // touch拖动事件\r\n    touchEnd(ev) {\r\n      clearInterval(this.timer);\r\n      this.endTIme = new Date().getTime();\r\n      if (this.endTIme - this.startTime <= 100) {\r\n        this.mobileNavShow = true;\r\n        return;\r\n      };\r\n      this.touch = false;\r\n      let clientX = ev.changedTouches[0].clientX;\r\n      let clientY = ev.changedTouches[0].clientY;\r\n      let a = Math.pow(this.touchstartX - clientX, 2);\r\n      let b = Math.pow(this.touchstartY - clientY, 2);\r\n      let pathX = this.touchstartX - clientX >= 0 ? -1 : 1;\r\n      let pathY = this.touchstartY - clientY >= 0 ? -1 : 1;\r\n      let disLen = Math.sqrt(a + b);\r\n      let speed = disLen / (this.endTIme - this.startTime);\r\n      speed >= 2 ? this.ballRun(speed, pathX, pathY) : this.nearFrame();\r\n    },\r\n    // 小球自动靠边\r\n    nearFrame() {\r\n      if (!this.$refs.ballDom) return;\r\n      let transition = this.Utils.prefixStyle('transition');\r\n      this.$refs.ballDom.style[transition] = 'left 0.3s';\r\n      let width = this.$refs.ballDom.offsetWidth;\r\n      let height = this.$refs.ballDom.offsetHeight;\r\n      let left = this.$refs.ballDom.offsetLeft;\r\n      let top = this.$refs.ballDom.offsetTop;\r\n      let { clientWidth, clientHeight } = this.Utils.getWinScreen();\r\n      if ((width / 2 + left) >= (clientWidth / 2)) {\r\n        this.left = clientWidth - width;\r\n      } else {\r\n        this.left = 0;\r\n      }\r\n      if (top <= 0) this.top = 0;\r\n      if (top >= clientHeight - height) this.top = `${clientHeight - height}px`;\r\n    },\r\n    // 小球回弹\r\n    ballRun(speed, pathX, pathY) {\r\n      speed = speed > 10 ? speed * 7 : speed * 10\r\n      let { clientWidth, clientHeight } = this.Utils.getWinScreen();\r\n      let width = this.$refs.ballDom.offsetWidth;\r\n      let height = this.$refs.ballDom.offsetHeight;\r\n      let speedX = speed * pathX;\r\n      let speedY = speed * pathY;\r\n      clearInterval(this.timer)\r\n      this.timer = setInterval(() => {\r\n        let left = this.$refs.ballDom.offsetLeft;\r\n        let top = this.$refs.ballDom.offsetTop;\r\n        if (left >= (clientWidth - width) || left <= 0) speedX *= -1;\r\n        if (top >= (clientHeight - height) || top <= 0) speedY *= -1;\r\n        if (speedX < 0) speedX += A;\r\n        if (speedX > 0) speedX -= A;\r\n        if (speedY < 0) speedY += A;\r\n        if (speedY > 0) speedY -= A;\r\n        this.left = left + speedX;\r\n        this.top = top + speedY;\r\n        if (Math.abs(speedX) <= 0.5 || Math.abs(speedY) <= 0.5) {\r\n          clearInterval(this.timer);\r\n          setTimeout(() => {\r\n            this.nearFrame();\r\n          }, 300)\r\n        }\r\n      }, 30)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => this.initBall());\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.ball_wrapper {\r\n  > .ball {\r\n    position: fixed;\r\n    z-index: 1003;\r\n    left: 20px;\r\n    top: 50px;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 10px 0 rgba(255, 102, 0, 0.3);\r\n    background-color: rgba(255, 102, 0, 0.5);\r\n    text-align: center;\r\n    overflow: hidden;\r\n    color: #fff;\r\n    > img {\r\n      width: 30px;\r\n      margin: 10px auto;\r\n    }\r\n  }\r\n  > .nav_mobile {\r\n    border-top: 1px solid #eee;\r\n    width: 100%;\r\n    height: fit-content;\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1003;\r\n    > li {\r\n      transform: translateX(-100%);\r\n      background-color: rgba(255, 255, 255, 0.8);\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      padding-left: 20px;\r\n      box-sizing: border-box;\r\n      &.close {\r\n        padding: 0;\r\n        border: none;\r\n        position: absolute;\r\n        z-index: 10;\r\n        top: -50px;\r\n        right: -50px;\r\n        width: 50px;\r\n        height: 50px;\r\n        background-color: transparent;\r\n        &::before {\r\n          content: \"\";\r\n          width: 100%;\r\n          height: 1px;\r\n          background-color: #f00;\r\n          position: absolute;\r\n          top: 0;\r\n          bottom: 0;\r\n          margin: auto;\r\n          transform: rotate(45deg);\r\n          transform-origin: center;\r\n          animation: rotate45 0.5s;\r\n          animation-fill-mode: forwards;\r\n        }\r\n        &::after {\r\n          content: \"\";\r\n          width: 100%;\r\n          height: 1px;\r\n          background-color: #f00;\r\n          position: absolute;\r\n          top: 0;\r\n          bottom: 0;\r\n          margin: auto;\r\n          transform: rotate(-45deg);\r\n          transform-origin: center;\r\n          animation: rotate_45 0.5s;\r\n          animation-fill-mode: forwards;\r\n        }\r\n      }\r\n      &:last-of-type {\r\n        border-bottom: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ball.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ball.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ball.vue?vue&type=template&id=3d0b7aba&scoped=true&\"\nimport script from \"./ball.vue?vue&type=script&lang=js&\"\nexport * from \"./ball.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ball.vue?vue&type=style&index=0&id=3d0b7aba&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d0b7aba\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ball.vue?vue&type=style&index=0&id=3d0b7aba&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ball.vue?vue&type=style&index=0&id=3d0b7aba&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/navList.48cb1cf7.png\";"],"sourceRoot":""}