(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f82f12c"],{"3e58":function(i,t,n){"use strict";n.r(t);var o=function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"chess"},[n("div",{staticClass:"box"},[n("h2",[i._v("五子棋 轮到 "+i._s(i.isFirst?"黑棋":"白棋"))]),n("h3",[i._v("当前 "+i._s(i.isComputer?"人机":"人人")+"对战 鼠标左键操作")]),n("canvas",{ref:"canvasDom",on:{click:function(t){return t.stopPropagation(),i.chessClick(t)}}}),n("div",{staticClass:"btn"},[n("fx-button",{attrs:{type:"default"},on:{clickEvt:i.computeClick}},[i._v(i._s(i.isComputer?"人人":"人机")+"对战")]),n("fx-button",{attrs:{type:"default"},on:{clickEvt:i.initData}},[i._v("重置")])],1)]),i.modal?n("div",{staticClass:"winner",on:{click:function(t){return t.stopPropagation(),i.initData(t)}}},[n("p",[i._v(i._s("black"===i.winner?"黑棋获胜":"白棋获胜"))])]):i._e()])},s=[],r=(n("a623"),n("cb29"),n("4160"),n("a9e3"),n("159b"),{name:"fiveChess",data:function(){return{broad:{row:21,col:21},initInfo:{width:0,height:0,row:0,col:0},context:null,axis:[],isFirst:!0,modal:!1,winner:"",isComputer:!0}},methods:{initData:function(){this.clear(),this.aiData();var i=this.$refs.canvasDom;this.context=i.getContext("2d"),this.initInfo.width=i.clientWidth,this.initInfo.height=i.clientHeight,this.initInfo.row=i.clientWidth/this.broad.row,this.initInfo.col=i.clientHeight/this.broad.col,this.init(i),this.modal=!1},init:function(i){i.width=i.clientWidth,i.height=i.clientHeight,this.paintBroad()},paintBroad:function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.context,t=(this.$refs.canvasDom,1);t<this.broad.row;t++)i.strokeStyle="#000",i.lineWidth=1,i.beginPath(),i.moveTo(this.initInfo.col,this.initInfo.row*t),i.lineTo(this.initInfo.width-this.initInfo.col,this.initInfo.row*t),i.stroke(),i.closePath();for(var n=1;n<this.broad.col;n++)i.strokeStyle="#000",i.lineWidth=1,i.beginPath(),i.moveTo(this.initInfo.col*n,this.initInfo.row),i.lineTo(this.initInfo.col*n,this.initInfo.height-this.initInfo.row),i.stroke(),i.closePath();for(var o=this.broad.row-1,s=this.broad.col-1,r=0;r<s;r++){this.axis.push([]);for(var h=0;h<o;h++)this.axis[r].push({x:(h%o+1)*this.initInfo.row,y:(r+1)*this.initInfo.col,isBeing:!1,chessType:0})}},paintChess:function(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.isFirst,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.context,s=Math.min(this.initInfo.row,this.initInfo.col)/2;o.beginPath();var r=o.createRadialGradient(i,t,1,i,t,s);n?(r.addColorStop(0,"#ccc"),r.addColorStop(1,"#000")):(r.addColorStop(0,"#fff"),r.addColorStop(1,"#ccc")),o.fillStyle=r,o.arc(i,t,s,0,2*Math.PI),o.fill(),o.closePath(),this.isFirst=!this.isFirst},chessClick:function(i){var t=this.computeAxis(i.offsetX,i.offsetY);t&&this.paintChess(t.x,t.y);var n=this.isWin();n&&(this.winner=n,this.modal=!0),this.isComputer&&this.computer(t)},computeAxis:function(i,t){var n=this,o=null;return this.axis.forEach((function(s,r){s.forEach((function(s,h){var e=Math.abs(s.x-i),a=Math.abs(s.y-t),c=Math.sqrt(e*e+a*a),f=Math.min(n.initInfo.row,n.initInfo.col)/2;c<=f&&!s.isBeing&&(o=Object.assign(s,{row:r,col:h}),s.isBeing=!0,s.chessType=n.isFirst?1:2)}))})),o},findArr:function(){var i=[];return this.axis.forEach((function(t,n){i.push([]),t.forEach((function(t){i[n].push(t.chessType)}))})),i},isWin:function(){var i=this,t=this.findArr(),n=null;return t.forEach((function(o,s){o.forEach((function(r,h){2!==r||n||(n=i.winGame(t,o,s,h,2)),1!==r||n||(n=i.winGame(t,o,s,h,1))}))})),n},winGame:function(i,t,n,o,s){var r=null;return this.winGameTypeRow(t,o,s)&&!r?r=1===s?"black":"white":this.winGameTypeCol(i,n,o,s)&&!r?r=1===s?"black":"white":this.winGameTypeRight(i,n,o,s)&&!r?r=1===s?"black":"white":this.winGameTypeLeft(i,n,o,s)&&!r&&(r=1===s?"black":"white"),r},winGameTypeRow:function(i,t,n){for(var o=[],s=1;s<5;s++)i[t+s]&&o.push(i[t+s]);return!(o.length<4)&&o.every((function(i){return i===Number(n)}))},winGameTypeCol:function(i,t,n,o){for(var s=[],r=1;r<5;r++)i[t+r]&&i[t+r][n]&&s.push(i[t+r][n]);return!(s.length<4)&&s.every((function(i){return i===Number(o)}))},winGameTypeRight:function(i,t,n,o){for(var s=[],r=1;r<5;r++)i[t+r]&&i[t+r][n+r]&&s.push(i[t+r][n+r]);return!(s.length<4)&&s.every((function(i){return i===Number(o)}))},winGameTypeLeft:function(i,t,n,o){for(var s=[],r=1;r<5;r++)i[t+r]&&i[t+r][n-r]&&s.push(i[t+r][n-r]);return!(s.length<4)&&s.every((function(i){return i===Number(o)}))},aiData:function(){var i=this.broad.row-1,t=this.broad.col-1;this.count=0,this.allWin=[];for(var n=0;n<i;n++){this.allWin[n]=[];for(var o=0;o<t;o++)this.allWin[n][o]=[]}for(var s=0;s<i;s++)for(var r=0;r<t-4;r++){for(var h=0;h<5;h++)this.allWin[r+h][s][this.count]=!0;this.count++}for(var e=0;e<i;e++)for(var a=0;a<t-4;a++){for(var c=0;c<5;c++)this.allWin[e][a+c][this.count]=!0;this.count++}for(var f=0;f<i-4;f++)for(var l=0;l<t-4;l++){for(var u=0;u<5;u++)this.allWin[f+u][l+u][this.count]=!0;this.count++}for(var v=i-1;v>3;v--)for(var m=0;m<i-4;m++){for(var d=0;d<5;d++)this.allWin[v-d][m+d][this.count]=!0;this.count++}this.myWin=[],this.compWin=[];for(var p=0;p<this.count;p++)this.myWin[p]=0,this.compWin[p]=0},computerChess:function(){for(var i=[],t=[],n=0;n<this.broad.row-1;n++){i[n]=[],t[n]=[];for(var o=0;o<this.broad.col-1;o++)i[n][o]=0,t[n][o]=0}for(var s=0,r=0,h=0,e=0;e<this.broad.row-1;e++)for(var a=0;a<this.broad.col-1;a++)if(!this.axis[e][a].isBeing){for(var c=0;c<this.count;c++)this.allWin[e][a][c]&&(1===this.myWin[c]?i[e][a]+=200:2===this.myWin[c]?i[e][a]+=500:3===this.myWin[c]?i[e][a]+=2e3:4===this.myWin[c]&&(i[e][a]+=5e4),1===this.compWin[c]?t[e][a]+=300:2===this.compWin[c]?t[e][a]+=800:3===this.compWin[c]?t[e][a]+=2e4:4===this.compWin[c]&&(t[e][a]+=5e5));i[e][a]>s&&(s=i[e][a],r=e,h=a),t[e][a]>s&&(s=t[e][a],r=e,h=a)}var f=this.axis[r][h].x,l=this.axis[r][h].y,u=this.computeAxis(f,l);u&&this.paintChess(u.x,u.y);var v=this.isWin();v&&(this.winner=v,this.modal=!0);for(var m=0;m<this.count;m++)this.allWin[r][h][m]&&(this.compWin[m]++,this.myWin[m]=6)},clear:function(){this.context=null,this.axis=[],this.isFirst=!0,this.modal=!1,this.winner=""},isBegin:function(){var i=this.findArr(),t={n:0};return i.forEach((function(i,n){return i.forEach((function(i,o){1===i&&(t.n++,t.row=n,t.col=o)}))})),t},computer:function(i){if(i){for(var t=0;t<this.count;t++)this.allWin[i.row][i.col][t]&&(this.myWin[t]++,this.compWin[t]=6);var n=this.isBegin();if(1===n.n){var o=Math.random()>.5?this.axis[n.row-1][n.col].x:this.axis[n.row+1][n.col].x,s=Math.random()>.5?this.axis[n.row-1][n.col].y:this.axis[n.row+1][n.col].y,r=this.computeAxis(o,s);r&&this.paintChess(r.x,r.y)}else this.computerChess()}},computeClick:function(){this.isBegin().n||(this.isComputer=!this.isComputer)}},mounted:function(){if(!this.Utils.isPC()){var i=document.documentElement.clientWidth,t=document.documentElement.clientHeight,n=i>=t?t:i;this.$refs.canvasDom.style.width="".concat(n,"px"),this.$refs.canvasDom.style.height="".concat(n,"px")}this.initData()}}),h=r,e=(n("d88e"),n("2877")),a=Object(e["a"])(h,o,s,!1,null,"43f6eda6",null);t["default"]=a.exports},"49f9":function(i,t,n){},a623:function(i,t,n){"use strict";var o=n("23e7"),s=n("b727").every,r=n("b301");o({target:"Array",proto:!0,forced:r("every")},{every:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}})},d88e:function(i,t,n){"use strict";var o=n("49f9"),s=n.n(o);s.a}}]);
//# sourceMappingURL=chunk-6f82f12c.5f884845.js.map